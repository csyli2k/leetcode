class Solution:
    def minMalwareSpread(self, graph: List[List[int]], initial: List[int]) -> int:
        def bfs(node):
            q=deque()
            q.append(node)
            count=0
            visited=set()
            while q:
                curr=q.popleft()
                for next_node, value in enumerate(graph[curr]):
                    if next_node not in visited and value ==1:
                        q.append(next_node)
                        visited.add(next_node)
                        count+=1
                        if curr != next_node and next_node in initial:
                            return -1
            return count
        
        temp={}
        max_count=-math.inf
        for node in initial:
            temp[node]=bfs(node)
            max_count=max(max_count, temp[node])
        res=math.inf
        for k,v in temp.items():
            if v== max_count:
                res=min(res,k)
        return res